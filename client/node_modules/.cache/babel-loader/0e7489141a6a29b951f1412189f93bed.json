{"ast":null,"code":"import _slicedToArray from\"C:/Users/Fahad Ahmad/Desktop/Tuts/new-blog/backend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";var useFetch=function useFetch(url){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),pending=_useState4[0],setPending=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),movies=_useState8[0],setMovies=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),total=_useState10[0],setTotal=_useState10[1];useEffect(function(){var abortCont=new AbortController();fetch(url,{signal:abortCont.signal,method:\"GET\",headers:{\"x-rapidapi-key\":\"3b8ba7d032msh9616bf36969a1a2p1a7015jsn5184b59caa2b\",\"x-rapidapi-host\":\"unogs-unogs-v1.p.rapidapi.com\"}}).then(function(res){if(!res.ok){throw Error(\"There seems to be an issue fetching data.\");}return res.json();}).then(function(data){setError(null);setPending(false);setData(data);setMovies(data.ITEMS);setTotal(data.COUNT);}).catch(function(err){if(err.name===\"AbortError\"){console.log(\"Ftech aborted!\");}else{setError(err.message);setPending(false);}});return function(){return abortCont.abort();};},[url]);return{data:data,pending:pending,setPending:setPending,error:error,movies:movies,total:total};};export default useFetch;","map":{"version":3,"sources":["C:/Users/Fahad Ahmad/Desktop/Tuts/new-blog/backend/client/src/Hooks/useFetch.js"],"names":["useState","useEffect","useFetch","url","data","setData","pending","setPending","error","setError","movies","setMovies","total","setTotal","abortCont","AbortController","fetch","signal","method","headers","then","res","ok","Error","json","ITEMS","COUNT","catch","err","name","console","log","message","abort"],"mappings":"4IAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,GAAD,CAAS,CACxB,cAAwBH,QAAQ,CAAC,EAAD,CAAhC,wCAAOI,IAAP,eAAaC,OAAb,eACA,eAA8BL,QAAQ,CAAC,IAAD,CAAtC,yCAAOM,OAAP,eAAgBC,UAAhB,eACA,eAA0BP,QAAQ,CAAC,IAAD,CAAlC,yCAAOQ,KAAP,eAAcC,QAAd,eACA,eAA4BT,QAAQ,CAAC,EAAD,CAApC,yCAAOU,MAAP,eAAeC,SAAf,eACA,eAA0BX,QAAQ,CAAC,CAAD,CAAlC,0CAAOY,KAAP,gBAAcC,QAAd,gBACAZ,SAAS,CAAC,UAAM,CACd,GAAMa,CAAAA,SAAS,CAAG,GAAIC,CAAAA,eAAJ,EAAlB,CAEAC,KAAK,CAACb,GAAD,CAAM,CACTc,MAAM,CAAEH,SAAS,CAACG,MADT,CAGTC,MAAM,CAAE,KAHC,CAITC,OAAO,CAAE,CACP,iBAAkB,oDADX,CAEP,kBAAmB,+BAFZ,CAJA,CAAN,CAAL,CASGC,IATH,CASQ,SAACC,GAAD,CAAS,CACb,GAAI,CAACA,GAAG,CAACC,EAAT,CAAa,CACX,KAAMC,CAAAA,KAAK,CAAC,2CAAD,CAAX,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAdH,EAeGJ,IAfH,CAeQ,SAAChB,IAAD,CAAU,CACdK,QAAQ,CAAC,IAAD,CAAR,CACAF,UAAU,CAAC,KAAD,CAAV,CACAF,OAAO,CAACD,IAAD,CAAP,CACAO,SAAS,CAACP,IAAI,CAACqB,KAAN,CAAT,CACAZ,QAAQ,CAACT,IAAI,CAACsB,KAAN,CAAR,CAED,CAtBH,EAuBGC,KAvBH,CAuBS,SAACC,GAAD,CAAS,CACd,GAAIA,GAAG,CAACC,IAAJ,GAAa,YAAjB,CAA+B,CAC7BC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACD,CAFD,IAEO,CACLtB,QAAQ,CAACmB,GAAG,CAACI,OAAL,CAAR,CACAzB,UAAU,CAAC,KAAD,CAAV,CACD,CACF,CA9BH,EAgCA,MAAO,kBAAMO,CAAAA,SAAS,CAACmB,KAAV,EAAN,EAAP,CACD,CApCQ,CAoCN,CAAC9B,GAAD,CApCM,CAAT,CAqCA,MAAO,CAAEC,IAAI,CAAJA,IAAF,CAAQE,OAAO,CAAPA,OAAR,CAAiBC,UAAU,CAAVA,UAAjB,CAA6BC,KAAK,CAALA,KAA7B,CAAoCE,MAAM,CAANA,MAApC,CAA4CE,KAAK,CAALA,KAA5C,CAAP,CACD,CA5CD,CA8CA,cAAeV,CAAAA,QAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nconst useFetch = (url) => {\r\n  const [data, setData] = useState([]);\r\n  const [pending, setPending] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [movies, setMovies] = useState([]);\r\n  const [total, setTotal] = useState(1);\r\n  useEffect(() => {\r\n    const abortCont = new AbortController();\r\n\r\n    fetch(url, {\r\n      signal: abortCont.signal,\r\n\r\n      method: \"GET\",\r\n      headers: {\r\n        \"x-rapidapi-key\": \"3b8ba7d032msh9616bf36969a1a2p1a7015jsn5184b59caa2b\",\r\n        \"x-rapidapi-host\": \"unogs-unogs-v1.p.rapidapi.com\",\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw Error(\"There seems to be an issue fetching data.\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        setError(null);\r\n        setPending(false);\r\n        setData(data);\r\n        setMovies(data.ITEMS);\r\n        setTotal(data.COUNT);\r\n       \r\n      })\r\n      .catch((err) => {\r\n        if (err.name === \"AbortError\") {\r\n          console.log(\"Ftech aborted!\");\r\n        } else {\r\n          setError(err.message);\r\n          setPending(false);\r\n        }\r\n      });\r\n\r\n    return () => abortCont.abort();\r\n  }, [url]);\r\n  return { data, pending, setPending, error, movies, total };\r\n};\r\n\r\nexport default useFetch;\r\n"]},"metadata":{},"sourceType":"module"}