{"ast":null,"code":"import _slicedToArray from\"C:/Users/Fahad Ahmad/Desktop/Tuts/new-blog/backend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import{useParams}from\"react-router\";import useFetch from\"../Hooks/useFetch\";import Loading from\"../Components/Loading\";import he from\"he\";import axios from\"axios\";import CreateChilling from\"../Components/CreateChilling\";import{Card,Container,Row,Col}from\"react-bootstrap\";import\"bootstrap/dist/css/bootstrap.min.css\";import Navbar from\"../Components/Nav-bar\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Movie=function Movie(){var _useParams=useParams(),netflixid=_useParams.netflixid;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),wait=_useState2[0],setWait=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),chill=_useState4[0],setChill=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),added=_useState6[0],setAdded=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),movie=_useState8[0],setMovie=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),chillings=_useState10[0],setChillings=_useState10[1];var _useFetch=useFetch(\"https://unogs-unogs-v1.p.rapidapi.com/aaapi.cgi?t=loadvideo&q=\".concat(netflixid)),data=_useFetch.data,pending=_useFetch.pending,error=_useFetch.error;useEffect(function(){if(pending===false){setWait(false);setMovie(data.RESULT.nfinfo);axios.get(\"http://localhost:5000/chillings/movie/\".concat(netflixid)).then(function(response){setChillings(response.data);setChill(false);setAdded(false);}).catch(function(error){console.log(error);});}},[data,added]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{back:true}),error!=null&&/*#__PURE__*/_jsxs(\"h1\",{id:\"errorMovie\",children:[\"Error finding that movie. \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Click here\"}),\" to go back to home page.\"]})||/*#__PURE__*/_jsx(\"div\",{className:\"all\",children:/*#__PURE__*/_jsx(\"div\",{className:\"movie-details\",children:wait?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Row,{className:\"mb-5\",children:[/*#__PURE__*/_jsx(Col,{className:\"col-md-6 col-sm-12 d-flex justify-content-center mb-2\",children:/*#__PURE__*/_jsx(Card,{id:\"movieCard\",style:{width:\"25rem\",background:\"wheat\"},children:/*#__PURE__*/_jsxs(Card.Body,{children:[movie.image1!==\"\"&&/*#__PURE__*/_jsx(Card.Img,{src:movie.image1})||/*#__PURE__*/_jsx(Card.Img,{src:movie.image2}),/*#__PURE__*/_jsxs(Card.Title,{className:\"text-center mt-4\",children:[/*#__PURE__*/_jsx(\"span\",{id:\"headings\",children:\"Title: \"}),he.decode(movie.title)]}),/*#__PURE__*/_jsxs(Card.Text,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"span\",{id:\"headings\",children:\"Type: \"}),movie.type]}),!movie.rating===\"0\"&&/*#__PURE__*/_jsxs(Card.Text,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"span\",{id:\"headings\",children:\"Rating: \"}),movie.avgrating]}),/*#__PURE__*/_jsxs(Card.Text,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"span\",{id:\"headings\",children:\"Released: \"}),movie.released]}),/*#__PURE__*/_jsxs(Card.Text,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"span\",{id:\"headings\",children:\"Runtime: \"}),movie.runtime]}),/*#__PURE__*/_jsxs(Card.Text,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"span\",{id:\"headings\",children:\"Synopsis: \"}),he.decode(movie.synopsis)]})]})})}),/*#__PURE__*/_jsx(Col,{className:\"col-md-6 col-sm-12 d-flex justify-content-center\",children:!wait&&/*#__PURE__*/_jsx(CreateChilling,{nid:netflixid,title:he.decode(movie.title),getAdded:function getAdded(added){return setAdded(added);}})})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"allChillings\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"All Chillings for this title\"}),/*#__PURE__*/_jsxs(Row,{className:\"justify-content-around\",children:[chillings.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No chillings found.\"}),!chill&&chillings.map(function(chilling){return/*#__PURE__*/_jsx(Col,{className:\"col-md-4 col-sm-6 col-xs-12 mt-5\",children:/*#__PURE__*/_jsx(Card,{id:\"chillingCard\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(\"span\",{id:\"headings\",children:\"Username:\"}),\" \",chilling.username]}),/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(\"span\",{id:\"headings\",children:\"Date:\"}),\" \",chilling.date]}),/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(\"span\",{id:\"headings\",children:\"People:\"}),\" \",chilling.people]}),/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(\"span\",{id:\"headings\",children:\"Duration:\"}),\" \",chilling.duration]}),/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(\"span\",{id:\"headings\",children:\"Language:\"}),\" \",chilling.language]}),/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(\"span\",{id:\"headings\",children:\"Country:\"}),\" \",chilling.country]}),/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(\"span\",{id:\"headings\",children:\"Note:\"}),\" \",chilling.note]})]})})},chilling._id);})]})]})]})})})]});};export default Movie;","map":{"version":3,"sources":["C:/Users/Fahad Ahmad/Desktop/Tuts/new-blog/backend/client/src/Pages/Movie.js"],"names":["useState","useEffect","useParams","useFetch","Loading","he","axios","CreateChilling","Card","Container","Row","Col","Navbar","Link","Movie","netflixid","wait","setWait","chill","setChill","added","setAdded","movie","setMovie","chillings","setChillings","data","pending","error","RESULT","nfinfo","get","then","response","catch","console","log","width","background","image1","image2","decode","title","type","rating","avgrating","released","runtime","synopsis","length","map","chilling","username","date","people","duration","language","country","note","_id"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport useFetch from \"../Hooks/useFetch\";\r\nimport Loading from \"../Components/Loading\";\r\nimport he from \"he\";\r\nimport axios from \"axios\";\r\nimport CreateChilling from \"../Components/CreateChilling\";\r\nimport { Card, Container, Row, Col } from \"react-bootstrap\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport Navbar from \"../Components/Nav-bar\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Movie = () => {\r\n  const { netflixid } = useParams();\r\n  const [wait, setWait] = useState(true);\r\n  const [chill, setChill] = useState(true);\r\n  const [added, setAdded] = useState(false);\r\n  const [movie, setMovie] = useState([]);\r\n  const [chillings, setChillings] = useState([]);\r\n\r\n  const { data, pending, error } = useFetch(\r\n    `https://unogs-unogs-v1.p.rapidapi.com/aaapi.cgi?t=loadvideo&q=${netflixid}`\r\n  );\r\n\r\n  useEffect(() => {\r\n\r\n    if (pending === false) {\r\n      setWait(false);\r\n\r\n      setMovie(data.RESULT.nfinfo);\r\n\r\n      axios\r\n        .get(`http://localhost:5000/chillings/movie/${netflixid}`)\r\n        .then((response) => {\r\n          setChillings(response.data);\r\n          setChill(false);\r\n\r\n          setAdded(false);\r\n\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  }, [data, added]);\r\n\r\n  return (\r\n    <>\r\n      <Navbar back={true} />\r\n      {(error != null && (\r\n        <h1 id='errorMovie'>\r\n          Error finding that movie. <Link to=\"/\">Click here</Link> to go back to\r\n          home page.\r\n        </h1>\r\n      )) || (\r\n        <div className=\"all\">\r\n          <div className=\"movie-details\">\r\n\r\n            {wait ? (\r\n              <Loading />\r\n            ) : (\r\n              <Container>\r\n                <Row className=\"mb-5\">\r\n                  <Col\r\n                    className=\"col-md-6 col-sm-12 d-flex justify-content-center mb-2\"\r\n                   \r\n                  >\r\n                    <Card\r\n                      id=\"movieCard\"\r\n                      style={{ width: \"25rem\", background: \"wheat\" }}\r\n                    >\r\n                      <Card.Body>\r\n                        {(movie.image1 !== \"\" && (\r\n                          <Card.Img src={movie.image1} />\r\n                        )) || <Card.Img src={movie.image2} />}\r\n                        <Card.Title className=\"text-center mt-4\">\r\n                          <span id=\"headings\">Title: </span>\r\n                          {he.decode(movie.title)}\r\n                        </Card.Title>\r\n                        <Card.Text className=\"text-center\">\r\n                          <span id=\"headings\">Type: </span>\r\n                          {movie.type}\r\n                        </Card.Text>\r\n                        {!movie.rating === \"0\" && (\r\n                          <Card.Text className=\"text-center\">\r\n                            <span id=\"headings\">Rating: </span>\r\n                            {movie.avgrating}\r\n                          </Card.Text>\r\n                        )}\r\n                        <Card.Text className=\"text-center\">\r\n                          <span id=\"headings\">Released: </span>\r\n                          {movie.released}\r\n                        </Card.Text>\r\n                        <Card.Text className=\"text-center\">\r\n                          <span id=\"headings\">Runtime: </span>\r\n                          {movie.runtime}\r\n                        </Card.Text>\r\n                        <Card.Text className=\"text-center\">\r\n                          <span id=\"headings\">Synopsis: </span>\r\n                          {he.decode(movie.synopsis)}\r\n                        </Card.Text>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Col>\r\n                  <Col\r\n                    className=\"col-md-6 col-sm-12 d-flex justify-content-center\"\r\n                    \r\n                  >\r\n                    {!wait && (\r\n                      <CreateChilling\r\n                        nid={netflixid}\r\n                        title={he.decode(movie.title)}\r\n                        getAdded={(added) => setAdded(added)}\r\n                      />\r\n                    )}\r\n                  </Col>\r\n                </Row>\r\n\r\n                <div id=\"allChillings\">\r\n                  <h1 className=\"text-center\">All Chillings for this title</h1>\r\n                  <Row className=\"justify-content-around\">\r\n                    {chillings.length === 0 && <p>No chillings found.</p>}\r\n                    {!chill &&\r\n                      chillings.map((chilling) => (\r\n                        <Col\r\n                          key={chilling._id}\r\n                          className=\"col-md-4 col-sm-6 col-xs-12 mt-5\"\r\n                        >\r\n                          <Card id=\"chillingCard\">\r\n                            <Card.Body>\r\n                              <Card.Text>\r\n                                <span id=\"headings\">Username:</span>{\" \"}\r\n                                {chilling.username}\r\n                              </Card.Text>\r\n                              <Card.Text>\r\n                                <span id=\"headings\">Date:</span> {chilling.date}\r\n                              </Card.Text>\r\n                              <Card.Text>\r\n                                <span id=\"headings\">People:</span>{\" \"}\r\n                                {chilling.people}\r\n                              </Card.Text>\r\n                              <Card.Text>\r\n                                <span id=\"headings\">Duration:</span>{\" \"}\r\n                                {chilling.duration}\r\n                              </Card.Text>\r\n                              <Card.Text>\r\n                                <span id=\"headings\">Language:</span>{\" \"}\r\n                                {chilling.language}\r\n                              </Card.Text>\r\n                              <Card.Text>\r\n                                <span id=\"headings\">Country:</span>{\" \"}\r\n                                {chilling.country}\r\n                              </Card.Text>\r\n                              <Card.Text>\r\n                                <span id=\"headings\">Note:</span> {chilling.note}\r\n                              </Card.Text>\r\n                            </Card.Body>\r\n                          </Card>\r\n                        </Col>\r\n                      ))}\r\n                  </Row>\r\n                </div>\r\n              </Container>\r\n            )}\r\n\r\n\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Movie;\r\n"]},"metadata":{},"sourceType":"module"}